# ==============================================
# C3M CENTRALIA BACKEND - ENVIRONMENT VARIABLES
# ==============================================

# ----------------------------------------------
# SERVER CONFIGURATION
# ----------------------------------------------
NODE_ENV=development
PORT=3000

# ----------------------------------------------
# DATABASE
# ----------------------------------------------
# Production/Development Database
MONGODB_URI=mongodb://localhost:27017/c3m_centralia

# Test Database (used by Jest)
MONGODB_URI_TEST=mongodb://localhost:27017/c3m_centralia_test

# MongoDB Atlas Example (Production):
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/c3m_centralia?retryWrites=true&w=majority

# ----------------------------------------------
# JWT AUTHENTICATION
# ----------------------------------------------
# Generate strong random secrets (use: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))")
JWT_SECRET=your_jwt_secret_key_here_change_in_production_min_32_chars
JWT_REFRESH_SECRET=your_jwt_refresh_secret_key_here_change_in_production_min_32_chars

# Token expiration times
JWT_EXPIRE=1h
JWT_REFRESH_EXPIRE=7d

# Alternative format examples:
# JWT_EXPIRE=15m (15 minutes)
# JWT_EXPIRE=7d (7 days)
# JWT_REFRESH_EXPIRE=30d (30 days)

# ----------------------------------------------
# CORS (Cross-Origin Resource Sharing)
# ----------------------------------------------
# Frontend URL(s) allowed to access the API
CORS_ORIGIN=http://localhost:3000

# Multiple origins (production):
# CORS_ORIGIN=https://myapp.com,https://www.myapp.com,https://admin.myapp.com

# ----------------------------------------------
# FILE STORAGE CONFIGURATION
# ----------------------------------------------
# Storage provider options: local, s3, cloudinary
STORAGE_PROVIDER=local

# Maximum file size in bytes (5MB = 5242880 bytes)
MAX_FILE_SIZE=5242880

# AWS S3 Configuration (only if STORAGE_PROVIDER=s3)
# ----------------------------------------------
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
AWS_S3_BUCKET=c3m-centralia-uploads

# Cloudinary Configuration (only if STORAGE_PROVIDER=cloudinary)
# ----------------------------------------------
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret

# ----------------------------------------------
# EMAIL NOTIFICATIONS (SMTP)
# ----------------------------------------------
# Optional: System works without email, notifications will be logged only
# Required for: Reservation confirmations, cancellations, and reminders

# Gmail Configuration Example:
# 1. Enable 2FA in your Google Account
# 2. Generate App Password: https://myaccount.google.com/apppasswords
# 3. Use the 16-character app password below
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_16_char_app_password_here

# SendGrid Configuration Example:
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=apikey
# SMTP_PASS=your_sendgrid_api_key

# Mailgun Configuration Example:
# SMTP_HOST=smtp.mailgun.org
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=postmaster@yourdomain.mailgun.org
# SMTP_PASS=your_mailgun_smtp_password

# Email sender information
SMTP_FROM_NAME=C3M Centralia
SMTP_FROM_EMAIL=noreply@c3mcentral.com

# ----------------------------------------------
# CRON JOB SECURITY
# ----------------------------------------------
# Secret token to protect the cron job endpoint
# Used by GitHub Actions or external cron services (cron-job.org)
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
CRON_SECRET=your_cron_secret_token_change_in_production

# ----------------------------------------------
# APPLICATION URLS
# ----------------------------------------------
# Frontend URL (used in email templates and redirects)
FRONTEND_URL=http://localhost:60608

# Production example:
# FRONTEND_URL=https://myapp.com

# ----------------------------------------------
# VERCEL DEPLOYMENT (Optional)
# ----------------------------------------------
# Vercel automatically sets this to '1' in production
# VERCEL=1

# ----------------------------------------------
# ADDITIONAL CONFIGURATION (Optional)
# ----------------------------------------------

# Rate Limiting (requests per 15 minutes)
# RATE_LIMIT_WINDOW_MS=900000
# RATE_LIMIT_MAX_REQUESTS=100

# Session Configuration
# SESSION_SECRET=your_session_secret_here

# Logging Level (error, warn, info, debug)
# LOG_LEVEL=info

# ----------------------------------------------
# NOTES:
# ----------------------------------------------
# 1. Never commit the actual .env file to version control
# 2. Copy this file to .env and fill in your actual values
# 3. For production, use strong random secrets (min 32 characters)
# 4. Email configuration is OPTIONAL - system works without it
# 5. CRON_SECRET is REQUIRED if deploying to Vercel with GitHub Actions
# 6. Update CORS_ORIGIN to match your frontend URL in production
